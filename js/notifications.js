// js/notifications.js
import { CONFIG } from "./config.js";

const tickerMessages = [
  "๐จ ุชุฐููุฑ: ุงุฎุชุจุงุฑ ุชุญุฏูุฏ ุงููุณุชูู ุฅูุฒุงูู ูุจู ุงูุชุณุฌูู โ ุนุดุงู ูุทูุน ูู ุฎุทุฉ ุชูุดู ุนูููุง.",
  "๐ก ูุตูุญุฉ: ูุง ุชูุซุฑ ูุตุงุฏุฑโฆ ุฎูู ุนูู ุฎุทุฉ ูุญุฏุฉ + ูุฑุงุฌุนุฉ ููููุฉ = ูุฑู ูุจูุฑ.",
  "โณ ุงูุฎุตู ุงูุญุงูู ุนูู 299 ููุชูู ุจุชุงุฑูุฎ 29/01/2026 โ ุจุนุฏูุง ุงูุณุนุฑ ุงูุฑุณูู 449.",
  "โ ุงูุฃูุถู ุชุณุชุฎุฏู โุชุญููู ุณุฑูุนโ ุนุดุงู ููุตู ุงูุชุญููู ููุญุณุงุจ ุจุฃุณุฑุน ููุช.",
  "๐ ุฅุฐุง ุฃุฑุณูุช ุฃูุซุฑ ูู ุฑุณุงูุฉ ูุจู ุงูุฑุฏโฆ ูููู ูุชุฃุฎุฑ ุชุฃููุฏู (ุฎููุง ุฑุณุงูุฉ ูุญุฏุฉ ูุฑุชุจุฉ).",
  "๐ธ๐ฆ ูุฎุฑูุง ููููโฆ ุดุฏููุง ุญููููุ ูุงููู ูููููู ููุฑูุน ุฏุฑุฌุงุชูู."
];

const toastMessages = [
  "ููุฑุฉ (ูุซุงู) ุณุฌูุช ุงูุขู ุจุฎุทุฉ 7 ุฃูุงู โ",
  "ุชุฑูู (ูุซุงู): ุฑูุฒุช ุนูู Grammar + Model 50 ููุฑู ูุนู ๐ฅ",
  "ุณุงุฑุฉ (ูุซุงู) ุฃููุช ุงุฎุชุจุงุฑ ุงููุณุชูู ูุญุตูุช ุฎุทุฉ ูุฎุตุตุฉ ๐ฏ",
  "ูุญูุฏ (ูุซุงู): ููุช ูุดุชุชโฆ ุงูุญูู ุนูุฏู ุฌุฏูู ูุงุถุญ ๐",
  "ุฃูู (ูุซุงู) ุฑูุนุช ุงูุฅูุตุงู ูุชูุช ูุฑุงุฌุนุฉ ุงูุทูุจ ๐งพ",
  "ุนุจุฏุงูุนุฒูุฒ (ูุซุงู): ุถุนููู ูุงู Reading ูุงูุฎุทุฉ ุฑูุฒุช ุนููู ๐",
  "ุฑูู (ูุซุงู): ูุตูุญุฉ ูุง ุชูุณู ูุฑุงุฌุนุฉ ุงูุฃุฎุทุงุก ูููููุง โ๏ธ",
  "ุนูู (ูุซุงู): ุงุฎุชุจุฑ ูุจู ูุฌุงุจ 63โฆ ุงูุขู ูุณุชูุฏู 80+ โ",
  "ูุทููุฉ (ูุซุงู): ุญูููุช ูููุฒุงุช ุงูุชููููุงุช ูุตุฑุช ุฃุณุฑุน โฑ๏ธ",
  "ููุตู (ูุซุงู): ูุง ุชุณุชููู ุจุงูู Vocabularyโฆ ูุฑูุนู ูุซูุฑ ๐ก"
];

const extraNames = ["ุดูุฏ","ุจุฏุฑ","ููุงู","ุญูุฏ","ููุง","ุฌูุฏ","ุณููุงู","ุฑูุง","ููุฏ","ุฏูุงู","ูููุฏ","ูุชูู","ูุดุงุนู","ูุงุฌุฏ","ุฑุบุฏ"];
const extraTips = [
  "ุฑูุฒ ุนูู ุงูุฃุฎุทุงุก ุงููู ุชุชูุฑุฑ ุนูุฏู.",
  "ูุณูู ููุชู: ุดุฑุญ โ ุชุฏุฑูุจ โ ูุฑุงุฌุนุฉ.",
  "ูุง ุชุฐุงูุฑ ูุงูุช ูุฑููโฆ ุฎุฐ ุจุฑูู 10 ุฏูุงุฆู.",
  "ุญูู ูููุฐุฌ ูุงุญุฏ ุจุชุฑููุฒ ุฃูุถู ูู 3 ุจุฏูู ููู.",
  "ุฎูู ูู ุฏูุชุฑ ุฃุฎุทุงุก ุตุบูุฑ."
];
for(let i=0;i<60;i++){
  const n = extraNames[i % extraNames.length];
  const t = extraTips[i % extraTips.length];
  toastMessages.push(`${n} (ูุซุงู): ${t}`);
}

function createToast(text){
  const wrap = document.querySelector(".toasts");
  if(!wrap) return;
  const div = document.createElement("div");
  div.className = "toast";
  div.innerHTML = `<b>ุชูุจูู</b><small>${text}</small>`;
  wrap.appendChild(div);
  setTimeout(()=>{ div.remove(); }, 7000);
}

export function startTicker(){
  const el = document.querySelector("#tickerText");
  if(!el) return;

  let i = 0;
  el.textContent = tickerMessages[i % tickerMessages.length];
  setInterval(()=>{
    i++;
    el.textContent = tickerMessages[i % tickerMessages.length];
  }, CONFIG.TICKER_INTERVAL_MS);

  let j = 0;
  setInterval(()=>{
    createToast(toastMessages[j % toastMessages.length]);
    j++;
  }, CONFIG.TOAST_INTERVAL_MS);
}
